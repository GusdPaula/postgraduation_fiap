# Postgraduation FIAP - Phase 4 - Tech Challenge (TCH) - Streamlit Dashboard for Brent Price Analysis

Welcome to the **Postgraduation FIAP - Phase 4 - Tech Challenge (TCH)** repository! This repository contains the Streamlit Dashboard built for analyzing Brent Crude Oil prices with a machine learning model for time series prediction.

The goal of this project is to provide an interactive analysis of historical Brent prices and to predict future price movements using machine learning techniques, specifically time series forecasting with **XGBoost**.

## Table of Contents

- [Project Overview](#project-overview)
- [Technologies Used](#technologies-used)
- [Setup Instructions](#setup-instructions)
- [Pages Overview](#pages-overview)
- [Folder Structure](#folder-structure)
- [Contributing](#contributing)
- [License](#license)

## Project Overview

This project implements a **Streamlit Dashboard** to analyze Brent Crude Oil prices and predict future trends using a **time series forecasting model**.

The dashboard allows users to:
- Explore historical data on Brent prices.
- Analyze key metrics such as **Moving Averages** and **Standard Deviation**.
- View the results of a **machine learning model** that predicts the next 7 days of Brent prices.
- Visualize historical crises and rallies in the price of Brent oil.
- Gain insights from additional datasets, such as global production and consumption data.

### Key Features:
- **Exploratory Data Analysis (EDA)**: Analyze historical Brent prices, volume, and key statistics.
- **Modeling**: Use **XGBoost**, a machine learning model, for time series forecasting.
- **Prediction**: Forecast the price of Brent for the next 7 days based on historical data.
- **Visualization**: Interactive plots using **Altair** and **Plotly** to showcase the data and predictions.
- **Historical Crises and Rallies**: Highlight significant events in Brent price history.

## Technologies Used

The project leverages several technologies and tools:

- **Streamlit**: To build the interactive dashboard.
- **Python**: For data analysis and model development.
- **XGBoost**: For time series forecasting and price prediction.
- **Pandas** and **NumPy**: For data manipulation and analysis.
- **YFinance**: To fetch historical Brent price data from Yahoo Finance.
- **Scikit-learn**: For model evaluation and metrics.

## Setup Instructions

To get this project up and running on your local machine, follow these steps:

### Prerequisites
- Ensure you have [Python](https://www.python.org/downloads/) and [Git](https://git-scm.com/) installed.
- Clone the repository:
  
  ```bash
  git clone https://github.com/GusdPaula/postgraduation_fiap.git
  ```

### Installing Dependencies
1. Navigate to the project directory:
    ```bash
    cd fase_4/TCH
    ```

2. Create a virtual environment (optional but recommended):
    ```bash
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3. Install the required dependencies:
    ```bash
    pip install -r requirements.txt
    ```

### Running the Application

1. **Streamlit Dashboard**:
    - Navigate to the `streamlit_app` directory:
      ```bash
      cd fase_4/TCH/streamlit_app
      ```
    - Run the Streamlit app:
      ```bash
      streamlit run app.py
      ```

    - The dashboard will be available on `http://localhost:8501`.

## Pages Overview

This project includes a **Streamlit Dashboard** with the following pages:

### Data, Model, and Exploratory Data Analysis

- **Exploratory Data Analysis (EDA)**: A thorough analysis of the historical Brent oil prices, including volume, moving averages, and standard deviation.
- **Data Source**: The data is fetched from **Yahoo Finance API**.

### Pages Overview in the Dashboard

- **Home Page**: View Brent price and volume data over time. Options to change data ranges, periods, and add Moving Averages (MA) or Standard Deviation.
    - **Moving Averages**: Average price over a period (20 days or 50 days).
    - **Standard Deviation**: Displays the volatility in price and volume.

- **Model Page**: View the **XGBoost model**'s evaluation metrics, such as:
    - **Mean Squared Error (MSE)**: Measures the average of the squares of errors (difference between predicted and actual values).
    - **Mean Absolute Percentage Error (MAPE)**: Expresses the error as a percentage of the actual values.
    - **Mean Absolute Error (MAE)**: Measures the average magnitude of the errors without considering their direction.

- **Prediction Page**: View the **7-day price prediction** generated by the XGBoost model.
    - The model predicts future Brent prices using historical data.
    - The prediction can be visualized with the model's confidence intervals.

- **History Page**: Visualize key price crises or rallies.
    - **Crises** are marked in **red** on the price chart.
    - **Rallies** are marked in **green** on the price chart.

- **Production & Consumption Page**: Examine the global oil production and consumption data, along with price analysis.
    - Data sourced from [Kaggle](https://www.kaggle.com/datasets/pralabhpoudel/world-energy-consumption).

- **Maps Page**: View global oil production and consumption per country over time.

## Folder Structure

Here’s the structure of the project:

```
postgraduation_fiap/
│
├── fase_4/
│   ├── TCH/
│   │   ├── app.py                        # Main Streamlit app file
│   │   ├── brent.ipynb                   # Brent price data analysis (Jupyter Notebook)
│   │   ├── energy_consumption.ipynb      # Energy consumption data analysis (Jupyter Notebook)
│   │   ├── forecast_class.py             # Model class for XGBoost forecasting
│   │   ├── history.py                    # History page code
│   │   ├── home.py                       # Home page code
│   │   ├── info.py                       # Information page code
│   │   ├── map_chart.ipynb               # Map chart analysis (Jupyter Notebook)
│   │   ├── maps.py                       # Maps page code
│   │   ├── model.py                      # Machine learning model code
│   │   ├── oil_production_statistics.csv # Oil production data
│   │   ├── prediction.py                 # Prediction logic
│   │   ├── production_consumption.py     # Production and consumption data processing
│   │   ├── requirements.txt              # Project dependencies
│   │   └── World Energy Consumption.csv  # Energy consumption data (CSV file)
```

## Contributing

Contributions are welcome! If you would like to improve or fix anything in the project, please follow these steps:

1. Fork the repository.
2. Create a new branch (`git checkout -b feature-branch`).
3. Make your changes and commit them (`git commit -am 'Add new feature'`).
4. Push to the branch (`git push origin feature-branch`).
5. Create a new Pull Request.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
